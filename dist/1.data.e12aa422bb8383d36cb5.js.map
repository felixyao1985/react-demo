{"version":3,"sources":["webpack:///./resources/containers/Data/index.js","webpack:///./resources/store/data/actions.js","webpack:///./resources/store/data/const.js","webpack:///./resources/containers/Data/Data.scss"],"names":["Data","params","query","props","state","loadEnd","me","dataList","data","length","refreshDataList","setState","actions","getDataList","then","res","postPromiseHandler","i18n","base","Text","App","getClassName","Title","loopDataList","map","value","index","id","name","dispatch","getDataDetail","addCount","types","SEND","GET_DATA_LIST","ERROR","FAIL","promise","client","API","GET_DATA_DETAIL","extra","type","ADD_COUNT","SUFFIX","SUCCESS"],"mappings":"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","file":"1.data.e12aa422bb8383d36cb5.js","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport objectAssign from 'object-assign'\r\nimport { SzLib, RcFormUtil } from '../../common'\r\nimport BaseComponent from '../BaseComponent.js'\r\n\r\nimport { getDataList } from '../../store/data/actions'\r\n\r\nimport './Data.scss'\r\n\r\nclass Data extends BaseComponent {\r\n\r\n  static fetchData(params, query) {\r\n    return [getDataList()];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadEnd: false\r\n    }\r\n  }\r\n  //-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-\r\n  //-* component life cycle\r\n  //-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-\r\n  componentWillMount() {\r\n    let me = this;\r\n    const { data: { dataList } } = me.props;\r\n\r\n    if (dataList.length == 0) {\r\n      this.refreshDataList();\r\n    } else {\r\n      me.setState(objectAssign({}, me.state, {\r\n        loadEnd: true\r\n      }));\r\n    }\r\n  }\r\n\r\n  refreshDataList() {\r\n    let me = this;\r\n    const { actions } = me.props;\r\n    actions.getDataList()\r\n      .then((res) => RcFormUtil.postPromiseHandler(\r\n        res, null, null,\r\n        () => {\r\n          me.setState(objectAssign({}, me.state, {\r\n            loadEnd: true\r\n          }));\r\n        }\r\n      ));\r\n  }\r\n\r\n  render() {\r\n    let me = this;\r\n    const { base: { i18n }, data: { dataList } } = me.props;\r\n    const Text = i18n.App[me.getClassName()];\r\n\r\n    if (me.state.loadEnd == false) {\r\n      return (\r\n        <div>\r\n          <h1>{ Text.Title }</h1>\r\n          <ul>\r\n            Loading...\r\n          </ul>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h1 className=\"title\">{ Text.Title }</h1>\r\n        <div>\r\n          { loopDataList() }\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    function loopDataList() {\r\n      return dataList.map(\r\n        (value, index) => {\r\n          return (\r\n            <li key={ index }>\r\n              <Link to={`/data/${value.id}`}>\r\n                { value.id }.{value.name}\r\n              </Link>\r\n            </li>\r\n          );\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  // bind state\r\n  (state) => ({\r\n    base: state.base,\r\n    data: state.data\r\n  }),\r\n  // bind dispatch action\r\n  (dispatch) => ({\r\n    actions: bindActionCreators({ getDataList }, dispatch)\r\n  })\r\n)(Data);\r\n\n\n\n// WEBPACK FOOTER //\n// ./resources/containers/Data/index.js","import CONST from './const.js';\r\n\r\n//-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-\r\n//-* CONST\r\n//-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-\r\nexport function getDataList() {\r\n  return {\r\n    types: [CONST.SEND, CONST.GET_DATA_LIST, CONST.ERROR, CONST.FAIL],\r\n    promise: (client) => client.API('fetchDataList', [\r\n\r\n    ])\r\n  };\r\n}\r\n\r\nexport function getDataDetail(id) {\r\n  return {\r\n    types: [CONST.SEND, CONST.GET_DATA_DETAIL, CONST.ERROR, CONST.FAIL],\r\n    promise: (client) => client.API('fetchDataDetail', [\r\n      id\r\n    ]),\r\n    extra: id\r\n  };\r\n}\r\n\r\nexport function addCount() {\r\n  return {\r\n    type: CONST.ADD_COUNT\r\n  };\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./resources/store/data/actions.js","let SUFFIX = 'DATA:';\r\n\r\nexport default {\r\n  SEND :    SUFFIX + 'SEND',\r\n  SUCCESS : SUFFIX + 'SUCCESS',\r\n  ERROR:    SUFFIX + 'ERROR',\r\n  FAIL :    SUFFIX + 'FAIL',\r\n\r\n  GET_DATA_LIST:    SUFFIX + 'GET_DATA_LIST',\r\n  GET_DATA_DETAIL:  SUFFIX + 'GET_DATA_DETAIL',\r\n  ADD_COUNT:        SUFFIX + 'ADD_COUNT'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./resources/store/data/const.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/containers/Data/Data.scss\n// module id = 742\n// module chunks = 1"],"sourceRoot":""}