{"version":3,"sources":["webpack:///./resources/store/data/actions.js?a088","webpack:///./resources/store/data/const.js?3024","webpack:///./resources/containers/DataDetail/index.js","webpack:///./resources/containers/DataDetail/components/ShowDataDetail.js","webpack:///./resources/containers/DataDetail/DataDetail.scss","webpack:///./resources/containers/DataDetail/assets/img.png"],"names":["getDataList","getDataDetail","addCount","types","SEND","GET_DATA_LIST","ERROR","FAIL","promise","client","API","id","GET_DATA_DETAIL","extra","type","ADD_COUNT","SUFFIX","SUCCESS","images","img","loadImage","require","DataDetail","params","query","props","state","loadEnd","me","data","isEmpty","dataDetail","hasOwnProperty","refreshDataDetail","setState","autoAddCount","actions","then","res","postPromiseHandler","setTimeout","i18n","base","Text","App","getClassName","Title","count","Back","dispatch","ShowDataDetail","childCount","name","message","memo","propTypes","PropTypes","shape","number","string"],"mappings":"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","file":"2.dataDetail.e12aa422bb8383d36cb5.js","sourcesContent":["import CONST from './const.js';\r\n\r\n//-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-\r\n//-* CONST\r\n//-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-\r\nexport function getDataList() {\r\n  return {\r\n    types: [CONST.SEND, CONST.GET_DATA_LIST, CONST.ERROR, CONST.FAIL],\r\n    promise: (client) => client.API('fetchDataList', [\r\n\r\n    ])\r\n  };\r\n}\r\n\r\nexport function getDataDetail(id) {\r\n  return {\r\n    types: [CONST.SEND, CONST.GET_DATA_DETAIL, CONST.ERROR, CONST.FAIL],\r\n    promise: (client) => client.API('fetchDataDetail', [\r\n      id\r\n    ]),\r\n    extra: id\r\n  };\r\n}\r\n\r\nexport function addCount() {\r\n  return {\r\n    type: CONST.ADD_COUNT\r\n  };\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./resources/store/data/actions.js","let SUFFIX = 'DATA:';\r\n\r\nexport default {\r\n  SEND :    SUFFIX + 'SEND',\r\n  SUCCESS : SUFFIX + 'SUCCESS',\r\n  ERROR:    SUFFIX + 'ERROR',\r\n  FAIL :    SUFFIX + 'FAIL',\r\n\r\n  GET_DATA_LIST:    SUFFIX + 'GET_DATA_LIST',\r\n  GET_DATA_DETAIL:  SUFFIX + 'GET_DATA_DETAIL',\r\n  ADD_COUNT:        SUFFIX + 'ADD_COUNT'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./resources/store/data/const.js","import React from 'react'\r\nimport { Link } from 'react-router'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport objectAssign from 'object-assign'\r\nimport { SzLib, RcFormUtil } from '../../common'\r\nimport BaseComponent from '../BaseComponent.js'\r\n\r\nimport { getDataDetail, addCount } from '../../store/data/actions'\r\nimport ShowDataDetail from './components/ShowDataDetail'\r\n\r\nimport './DataDetail.scss'\r\n\r\nconst images = {\r\n  img: SzLib.loadImage(require('./assets/img.png'))\r\n};\r\n\r\nclass DataDetail extends BaseComponent {\r\n\r\n  static fetchData(params, query) {\r\n    return [getDataDetail(params.id)];\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadEnd: false\r\n    }\r\n  }\r\n\r\n  //-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-\r\n  //-* component life cycle\r\n  //-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-\r\n  componentWillMount() {\r\n    let me = this;\r\n    const { data, params: { id } } = me.props;\r\n\r\n    if (SzLib.isEmpty(data)\r\n      || !data.dataDetail.hasOwnProperty(id)) {\r\n      this.refreshDataDetail(id);\r\n    } else {\r\n      me.setState(objectAssign({}, me.state, {\r\n        loadEnd: true\r\n      }));\r\n    }\r\n\r\n    me.autoAddCount();\r\n  }\r\n\r\n  refreshDataDetail(id) {\r\n    let me = this;\r\n    const { actions } = me.props;\r\n    actions.getDataDetail(id)\r\n      .then((res) => RcFormUtil.postPromiseHandler(\r\n        res, null, null,\r\n        () => {\r\n          me.setState(objectAssign({}, me.state, {\r\n            loadEnd: true\r\n          }));\r\n        }\r\n      ));\r\n  }\r\n\r\n  autoAddCount() {\r\n    let me = this;\r\n    const { actions } = me.props;\r\n    setTimeout(() => {\r\n      actions.addCount();\r\n      this.autoAddCount();\r\n    }, 10000)\r\n  }\r\n\r\n  render() {\r\n    let me = this;\r\n    const { base: { i18n }, data, params: { id }, actions } = me.props;\r\n    const Text = i18n.App[me.getClassName()];\r\n\r\n    if (me.state.loadEnd === false || SzLib.isEmpty(data)) {\r\n      return (\r\n        <div>\r\n          <h1>{ Text.Title }</h1>\r\n          <ul>\r\n            Loading...\r\n          </ul>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    const dataDetail = data.dataDetail[id];\r\n\r\n    return (\r\n      <div>\r\n        <h1 className='detail-title'>{ Text.Title } / Count: { data.count }</h1>\r\n        <ShowDataDetail dataDetail={ dataDetail } />\r\n        <div>\r\n          <Link to=\"/data\">{ Text.Back }</Link>\r\n        </div>\r\n        <img src={ images.img } />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  // bind state\r\n  (state) => ({\r\n    base: state.base,\r\n    data: state.data\r\n  }),\r\n  // bind dispatch action\r\n  (dispatch) => ({\r\n    actions: bindActionCreators({ getDataDetail, addCount }, dispatch)\r\n  })\r\n)(DataDetail);\r\n\n\n\n// WEBPACK FOOTER //\n// ./resources/containers/DataDetail/index.js","import React, { PropTypes } from 'react'\r\nimport BaseComponent from '../../BaseComponent.js'\r\n\r\nclass ShowDataDetail extends BaseComponent {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      childCount: 0\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    let me = this;\r\n    me.autoAddCount();\r\n  }\r\n\r\n  autoAddCount() {\r\n    let me = this;\r\n    setTimeout(() => {\r\n      me.setState({\r\n        childCount: me.state.childCount + 1\r\n      });\r\n      me.autoAddCount();\r\n    }, 1000)\r\n  }\r\n\r\n  render() {\r\n    let me = this;\r\n    const { dataDetail } = me.props;\r\n\r\n    return (\r\n      <div>\r\n        <div>\r\n          <div>id:{ dataDetail.id }</div>\r\n          <div>name:{ dataDetail.name }</div>\r\n          <div>message:{ dataDetail.message }</div>\r\n          <div>memo:{ dataDetail.memo }</div>\r\n          <div>count:{ me.state.childCount }</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nShowDataDetail.propTypes = {\r\n  dataDetail:  React.PropTypes.shape({\r\n    id:       React.PropTypes.number,\r\n    name:     React.PropTypes.string,\r\n    message:  React.PropTypes.string,\r\n    memo:     React.PropTypes.string\r\n  })\r\n};\r\n\r\nexport default ShowDataDetail;\r\n\n\n\n// WEBPACK FOOTER //\n// ./resources/containers/DataDetail/components/ShowDataDetail.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/containers/DataDetail/DataDetail.scss\n// module id = 746\n// module chunks = 2","module.exports = __webpack_public_path__ + \"13a05f6416ff17fdfca18ecccc5b15df.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/containers/DataDetail/assets/img.png\n// module id = 747\n// module chunks = 2"],"sourceRoot":""}